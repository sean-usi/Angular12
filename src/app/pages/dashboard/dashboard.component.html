<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-dark">Dashboard</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Dashboard v1</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
      <div class="row equal-height">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-body">
              <full-calendar [options]="calendarOptions"></full-calendar>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header row">
              <div class="col-lg-6 mt-2">
                <h1 class="text-primary">Announcements</h1>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <mat-accordion>
                    <div *ngFor="let ann of announcements | orderBy: 'doc.date'; let i = index;">
                      <mat-expansion-panel hideToggle *ngIf="i < 11" class="mb-2">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            {{ann.doc.date | date : 'longDate'}}
                          </mat-panel-title>
                          <mat-panel-description>
                            {{ann.doc.purpose}}
                          </mat-panel-description>
                        </mat-expansion-panel-header>
                        <p>{{ann.doc.description}}</p>
                      </mat-expansion-panel>
                    </div>
                  </mat-accordion>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row equal-height">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header row">
              <div class="col-lg-6 mt-2">
                <h1 class="text-success">Birthdays</h1>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <div class="table-responsive mt-2" *ngIf="employees.length">
                    <table class="table-striped" datatable [dtOptions]="dtOptions">
                      <thead>
                        <tr>
                          <th>Employee Name</th>
                          <th>Day</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of employees; let i = index;">
                          <td>{{ data.doc.firstName }} {{ data.doc.middleName }} {{ data.doc.lastName }} {{ data.doc.ext }}</td>
                          <td>{{ data.doc.birthDate | date: 'MMMM d'}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header row">
              <div class="col-lg-6 mt-2">
                <h1 class="text-warning">Job Vacancies</h1>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <div class="table-responsive mt-2" *ngIf="jobOpenings.length">
                    <table class="table-striped" datatable [dtOptions]="dtOptions">
                      <thead>
                        <tr>
                          <th>Person(s) Needed</th>
                          <th>Position</th>
                          <th>Branch</th>
                          <th>Employment Type</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of jobOpenings;let i = index;">
                          <td>{{data.doc.requiredForThisPosition}}</td>
                          <td>{{data.doc.position}}</td>
                          <td>{{data.doc.branch}}</td>
                          <td>{{data.doc.employmentType}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row equal-height">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-header row">
              <div class="col-lg-6 mt-2">
                <h1 class="text-primary">Employees On-Leave</h1>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <div class="table-responsive mt-2" *ngIf="leaves.length">
                    <table class="table-striped" datatable [dtOptions]="dtOptions">
                      <thead>
                        <tr>
                          <th>Employee Name</th>
                          <th>From</th>
                          <th>To</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of leaves; let i = index;">
                          <td>{{ data.doc.employeeName }}</td>
                          <td>{{ data.doc.startDateTime | date }}</td>
                          <td>{{ data.doc.finishDateTime | date }}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6" hidden>
          <div class="card">
            <div class="card-header row">
              <div class="col-lg-6 mt-2">
                <h1 class="text-warning">Official Business</h1>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <div class="table-responsive mt-2" *ngIf="employees.length">
                    <table class="table-striped" datatable [dtOptions]="dtOptions">
                      <thead>
                        <tr>
                          <th>Employee Name</th>
                          <th>Position Title</th>
                          <th>Date</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of employees; let i = index;">
                          <td>{{ data.doc.firstName }} {{ data.doc.middleName }} {{ data.doc.lastName }} {{ data.doc.ext }}</td>
                          <td>{{ data.doc.positionTitle }}</td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</section>
